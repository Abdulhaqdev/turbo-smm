'use client';

import ModeToggle from '@/components/shared/ModeToggle';
import Image from 'next/image';
import Link from 'next/link';
import { usePathname } from '@/app/i18n/navigation';
import LanguageSwitcher from '@/components/shared/LanguageSwitcher';
import { useTranslations } from 'next-intl'
import { GrGroup } from "react-icons/gr";
export default function Navbar() {
  const pathname = usePathname();
  const t = useTranslations('navbar'); // Navbar matnlarini yuklash

  // NAV_LINKSni dinamik tarzda yaratamiz
  const NAV_LINKS = [
    { href: '/', label: t('home') },
    { href: '/service', label: t('service') },
    { href: '/about', label: t('about') },
  ];

  return (
    <>
      {/* Top Navbar (Sticky at the top, visible on all screens) */}
      <nav className="sticky lg:px-28 max-w-screen-2xl mx-auto inset-0 top-0 z-50 w-full dark:text-white text-black bg-opacity-40 backdrop-blur-md">
        <div className="container flex h-20 items-center justify-between">
          <div className="flex items-center">
            {/* Logo links to homepage */}
            <Link className="flex items-center space-x-2" href="/">
            {/* Light theme logo */}
            <Image
              src="/turbosmm.png"
              alt="Light theme logo"
              width={200}
              height={30}
              priority // Preload the image
              className="dark:hidden object-contain"
            />
            {/* Dark theme logo */}
            <Image
src="/logodark.png"
              alt="Dark theme logo"
              width={200}
              height={30}
              priority // Preload the image
              className="hidden dark:block object-contain"
            />
          </Link>
          </div>

          {/* Desktop Navigation */}
          <div className="hidden md:flex md:items-center md:space-x-8">
            <ModeToggle />
            <LanguageSwitcher />
            {NAV_LINKS.map((link) => (
              <Link
                key={link.href}
                href={link.href}
                className={`transition-colors hover:text-blue-500 ${
                  pathname === link.href ? 'text-blue-500 font-bold' : ''
                }`}
              >
                {link.label}
              </Link>
            ))}
          </div>

          {/* Mobile Navigation (Top - ModeToggle and LanguageSwitcher) */}
          <div className="md:hidden flex items-center space-x-4">
            <ModeToggle />
            <LanguageSwitcher />
          </div>
        </div>
      </nav>

      {/* Bottom Navbar (Fixed at the bottom, visible only on mobile) */}
      <div className="fixed bottom-0 left-0 right-0 z-30 grid grid-cols-3 border-t border-gray-800 md:hidden py-4 dark:text-black text-white dark:bg-black bg-white bg-opacity-40 backdrop-blur-md">
        <Link
          href="/"
          className={`flex flex-col items-center gap-1 px-2 ${
            pathname === '/' ? 'text-blue-500' : 'dark:text-white text-black hover:text-blue-500'
          }`}
        >
          <svg
            width="25"
            height="24"
            viewBox="0 0 25 24"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M23.621 9.06911L16.036 1.48311C15.0973 0.5471 13.8257 0.0214844 12.5 0.0214844C11.1744 0.0214844 9.90277 0.5471 8.96401 1.48311L1.37901 9.06911C1.09944 9.3469 0.877782 9.67741 0.726895 10.0415C0.576007 10.4056 0.49889 10.796 0.500012 11.1901V21.0071C0.500012 21.8028 0.816083 22.5658 1.37869 23.1284C1.9413 23.691 2.70436 24.0071 3.50001 24.0071H21.5C22.2957 24.0071 23.0587 23.691 23.6213 23.1284C24.1839 22.5658 24.5 21.8028 24.5 21.0071V11.1901C24.5011 10.796 24.424 10.4056 24.2731 10.0415C24.1222 9.67741 23.9006 9.3469 23.621 9.06911ZM15.5 22.0071H9.50001V18.0731C9.50001 17.2775 9.81608 16.5144 10.3787 15.9518C10.9413 15.3892 11.7044 15.0731 12.5 15.0731C13.2957 15.0731 14.0587 15.3892 14.6213 15.9518C15.1839 16.5144 15.5 17.2775 15.5 18.0731V22.0071ZM22.5 21.0071C22.5 21.2723 22.3947 21.5267 22.2071 21.7142C22.0196 21.9018 21.7652 22.0071 21.5 22.0071H17.5V18.0731C17.5 16.747 16.9732 15.4753 16.0355 14.5376C15.0979 13.5999 13.8261 13.0731 12.5 13.0731C11.1739 13.0731 9.90216 13.5999 8.96448 14.5376C8.0268 15.4753 7.50001 16.747 7.50001 18.0731V22.0071H3.50001C3.2348 22.0071 2.98044 21.9018 2.79291 21.7142C2.60537 21.5267 2.50001 21.2723 2.50001 21.0071V11.1901C2.50094 10.9251 2.6062 10.6711 2.79301 10.4831L10.378 2.90011C10.9417 2.33904 11.7047 2.02405 12.5 2.02405C13.2953 2.02405 14.0583 2.33904 14.622 2.90011L22.207 10.4861C22.3931 10.6734 22.4983 10.9261 22.5 11.1901V21.0071Z"
              fill="currentColor"
            />
          </svg>
          <span className="text-xs">{t('home')}</span>
        </Link>
        <Link
          href="/service"
          className={`flex flex-col items-center gap-1 px-2 ${
            pathname === '/service' ? 'text-blue-500' : 'dark:text-white text-black hover:text-blue-500'
          }`}
        >
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M24 10.0001C24 9.92709 23.992 9.85431 23.976 9.78308L22.676 3.91508C22.4345 2.80132 21.8173 1.80447 20.9281 1.09167C20.0389 0.378865 18.9316 -0.00653638 17.792 8.38888e-05H6.208C5.06905 -0.00561641 3.96273 0.380206 3.07433 1.09293C2.18593 1.80565 1.5694 2.802 1.328 3.91508L0.0240014 9.78308C0.00800947 9.85431 -3.96599e-05 9.92709 1.3694e-06 10.0001V11.0001C-0.000805438 11.9737 0.354923 12.9139 1 13.6431V19.0001C1.00159 20.3257 1.52888 21.5965 2.46622 22.5339C3.40356 23.4712 4.67441 23.9985 6 24.0001H18C19.3256 23.9985 20.5964 23.4712 21.5338 22.5339C22.4711 21.5965 22.9984 20.3257 23 19.0001V13.6431C23.6451 12.9139 24.0008 11.9737 24 11.0001V10.0001ZM2 10.1091L3.28 4.34908C3.42504 3.68134 3.79502 3.08366 4.32801 2.65606C4.86101 2.22846 5.52469 1.99689 6.208 2.00008H7V5.00008C7 5.2653 7.10536 5.51965 7.2929 5.70719C7.48043 5.89473 7.73479 6.00008 8 6.00008C8.26522 6.00008 8.51957 5.89473 8.70711 5.70719C8.89464 5.51965 9 5.2653 9 5.00008V2.00008H15V5.00008C15 5.2653 15.1054 5.51965 15.2929 5.70719C15.4804 5.89473 15.7348 6.00008 16 6.00008C16.2652 6.00008 16.5196 5.89473 16.7071 5.70719C16.8946 5.51965 17 5.2653 17 5.00008V2.00008H17.792C18.4753 1.99689 19.139 2.22846 19.672 2.65606C20.205 3.08366 20.575 3.68134 20.72 4.34908L22 10.1091V11.0001C22 11.5305 21.7893 12.0392 21.4142 12.4143C21.0391 12.7894 20.5304 13.0001 20 13.0001H19C18.4696 13.0001 17.9609 12.7894 17.5858 12.4143C17.2107 12.0392 17 11.5305 17 11.0001C17 10.7349 16.8946 10.4805 16.7071 10.293C16.5196 10.1054 16.2652 10.0001 16 10.0001C15.7348 10.0001 15.4804 10.1054 15.2929 10.293C15.1054 10.4805 15 10.7349 15 11.0001C15 11.5305 14.7893 12.0392 14.4142 12.4143C14.0391 12.7894 13.5304 13.0001 13 13.0001H11C10.4696 13.0001 9.96086 12.7894 9.58579 12.4143C9.21072 12.0392 9 11.5305 9 11.0001C9 10.7349 8.89464 10.4805 8.70711 10.293C8.51957 10.1054 8.26522 10.0001 8 10.0001C7.73479 10.0001 7.48043 10.1054 7.2929 10.293C7.10536 10.4805 7 10.7349 7 11.0001C7 11.5305 6.78929 12.0392 6.41422 12.4143C6.03914 12.7894 5.53044 13.0001 5 13.0001H4C3.46957 13.0001 2.96086 12.7894 2.58579 12.4143C2.21072 12.0392 2 11.5305 2 11.0001V10.1091ZM18 22.0001H6C5.20435 22.0001 4.44129 21.684 3.87868 21.1214C3.31607 20.5588 3 19.7957 3 19.0001V14.8731C3.3266 14.9577 3.66263 15.0003 4 15.0001H5C5.5678 15.0004 6.12916 14.8795 6.64651 14.6455C7.16386 14.4115 7.6253 14.0697 8 13.6431C8.3747 14.0697 8.83615 14.4115 9.3535 14.6455C9.87085 14.8795 10.4322 15.0004 11 15.0001H13C13.5678 15.0004 14.1292 14.8795 14.6465 14.6455C15.1639 14.4115 15.6253 14.0697 16 13.6431C16.3747 14.0697 16.8361 14.4115 17.3535 14.6455C17.8708 14.8795 18.4322 15.0004 19 15.0001H20C20.3374 15.0003 20.6734 14.9577 21 14.8731V19.0001C21 19.7957 20.6839 20.5588 20.1213 21.1214C19.5587 21.684 18.7957 22.0001 18 22.0001Z"
              fill="currentColor"
            />
          </svg>
          <span className="text-xs">{t('service')}</span>
        </Link>
        <Link
          href="/about"
          className={`flex flex-col items-center gap-1 px-2 ${
            pathname === '/about' ? 'text-blue-500' : 'dark:text-white text-black hover:text-blue-500'
          }`}
        >
        <GrGroup className="h-6 w-6" />
          {/* <svg
            width="30"
            height="28"
            viewBox="0 0 25 24"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M12.5 16C11.7089 16 10.9355 15.7654 10.2777 15.3259C9.61992 14.8864 9.10723 14.2616 8.80448 13.5307C8.50173 12.7998 8.42252 11.9956 8.57686 11.2196C8.7312 10.4437 9.11216 9.73099 9.67157 9.17158C10.231 8.61217 10.9437 8.2312 11.7196 8.07686C12.4956 7.92252 13.2998 8.00173 14.0307 8.30448C14.7616 8.60723 15.3864 9.11993 15.8259 9.77772C16.2654 10.4355 16.5 11.2089 16.5 12C16.5 13.0609 16.0786 14.0783 15.3284 14.8284C14.5783 15.5786 13.5609 16 12.5 16ZM12.5 10C12.1044 10 11.7178 10.1173 11.3889 10.3371C11.06 10.5568 10.8036 10.8692 10.6522 11.2346C10.5009 11.6001 10.4613 12.0022 10.5384 12.3902C10.6156 12.7781 10.8061 13.1345 11.0858 13.4142C11.3655 13.6939 11.7219 13.8844 12.1098 13.9616C12.4978 14.0387 12.8999 13.9991 13.2654 13.8478C13.6308 13.6964 13.9432 13.44 14.1629 13.1111C14.3827 12.7822 14.5 12.3956 14.5 12C14.5 11.4696 14.2893 10.9609 13.9142 10.5858C13.5391 10. advantageously7 13.0304 10 12.5 10ZM18.5 23C18.5 21.4087 17.8679 19.8826 16.7426 18.7574C15.6174 17.6321 14.0913 17 12.5 17C10.9087 17 9.38258 17.6321 8.25736 18.7574C7.13214 19.8826 6.5 21.4087 6.5 23C6.5 23.2652 6.60536 23.5196 6.79289 23.7071C6.98043 23.8946 7.23478 24 7.5 24C7.76522 24 8.01957 23.8946 8.20711 23.7071C8.39464 23.5196 8.5 23.2652 8.5 23C8.5 21.9391 8.92143 20.9217 9.67157 20.1716C10.4217 20.4214 11.4391 19 12.5 19C13.5609 19 14.5783 19.4214 15.3284 20.1716C16.0786 20.9217 16.5 21.9391 16.5 23C16.5 23.2652 16.6054 23.5196 16.7929 23.7071C16.9804 23.8946 17.2348 24 17.5 24C17.7652 24 18.0196 23.8946 18.2071 23.7071C18.3946 23.5196 18.5 23.2652 18.5 23ZM18.5 8C17.7089 8 16.9355 7.76541 16.2777 7.32588C15.6199 6.88636 15.1072 6.26164 14.8045 5.53074C14.5017 4.79983 14.4225 3.99557 14.5769 3.21964C14.7312 2.44372 15.1122 1.73098 15.6716 1.17157C16.231 0.612165 16.9437 0.231202 17.7196 0.0768607C18.4956 -0.0774802 19.2998 0.00173312 20.0307 0.304484C20.7616 0.607234 21.3864 1.11992 21.8259 1.77772C22.2654 2.43552 22.5 3.20888 22.5 4C22.5 5.06087 22.0786 6.07828 21.3284 6.82843C20.5783 7.57858 19.5609 8 18.5 8ZM18.5 2C18.1044 2 17.7178 2.1173 17.3889 2.33706C17.06 2.55683 16.8036 2.86918 16.6522 3.23464C16.5009 3.60009 16.4613 4.00222 16.5384 4.39018C16.6156 4.77815 16.8061 5.13451 17.0858 5.41422C17.3655 5.69392 17.7219 5.8844 18.1098 5.96157C18.4978 6.03874 18.8999 5.99914 19.2654 5.84776C19.6308 5.69639 19.9432 5.44004 20.1629 5.11114C20.3827 4.78224 20.5 4.39557 20.5 4C20.5 3.46957 20.2893 2.96086 19.9142 2.58579C19.5391 2.21072 19.0304 2 18.5 2ZM24.5 15C24.4984 13.4092 23.8658 11.884 22.7409 10.7591C21.616 9.63424 20.0908 9.00159 18.5 9C18.2348 9 17.9804 9.10536 17.7929 9.2929C17.6054 9.48043 17.5 9.73479 17.5 10C17.5 10.2652 17.6054 10.5196 17.7929 10.7071C17.9804 10.8946 18.2348 11 18.5 11C19.5609 11 20.5783 11.4214 21.3284 12.1716C22.0786 12.9217 22.5 13.9391 22.5 15C22.5 15.2652 22.6054 15.5196 22.7929 15.7071C22.9804 15.8946 23.2348 16 23.5 16C23.7652 16 24.0196 15.8946 24.2071 15.7071C24.3946 15.5196 24.5 15.2652 24.5 15ZM6.5 8C5.70887 8 4.93552 7.76541 4.27772 7.32588C3.61992 6.88636 3.10723 6.26164 2.80448 5.53074C2.50173 4.79983 2.42252 3.99557 2.57686 3.21964C2.7312 2.44372 3.11216 1.73098 3.67157 1.17157C4.23098 0.612165 4.94371 0.231202 5.71964 0.0768607C6.49556 -0.0774802 7.29983 0.00173312 8.03073 0.304484C8.76164 0.607234 9.38635 1.11992 9.82588 1.77772C10.2654 2.43552 10.5 3.20888 10.5 4C10.5 5.06087 10.0786 6.07828 9.32843 6.82843C8.57828 7.57858 7.56087 8 6.5 8ZM6.5 2C6.10444 2 5.71776 2.1173 5.38886 2.33706C5.05996 2.55683 4.80362 2.86918 4.65224 3.23464C4.50087 3.60009 4.46126 4.00222 4.53843 4.39018C4.6156 4.77815 4.80608 5.13451 5.08579 5.41422C5.36549 5.69392 5.72186 5.8844 6.10982 5.96157C6.49778 6.03874 6.89991 5.99914 7.26537 5.84776C7.63082 5.69639 7.94318 5.44004 8.16294 5.11114C8.3827 4.78224 8.5 4.39557 8.5 4C8.5 3.46957 8.28929 2.96086 7.91421 2.58579C7.53914 2.21072 7.03043 2 6.5 2ZM2.5 15C2.5 13.9391 2.92143 12.9217 3.67157 12.1716C4.42172 11.4214 5.43913 11 6.5 11C6.76522 11 7.01957 10.8946 7.20711 10.7071C7.39464 10.5196 7.5 10.2652 7.5 10C7.5 9.73479 7.39464 9.48043 7.20711 9.2929C7.01957 9.10536 6.76522 9 6.5 9C4.90919 9.00159 3.38399 9.63424 2.25911 10.7591C1.13424 11.884 0.501588 13.4092 0.5 15C0.5 15.2652 0.605357 15.5196 0.792893 15.7071C0.98043 15.8946 1.23478 16 1.5 16C1.76522 16 2.01957 15.8946 2.20711 15.7071C2.39464 15.5196 2.5 15.2652 2.5 15Z"
              fill="currentColor"
            />
          </svg> */}
          <span className="text-xs">{t('about')}</span>
        </Link>
      </div>
    </>
  );
}